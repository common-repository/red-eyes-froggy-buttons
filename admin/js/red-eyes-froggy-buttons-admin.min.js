(function(t){"use strict";t(document).ready(function(){function e(t,e,i){if(t.indexOf("#")>=0&&(t=n(t,0,"RGBAToHexA")),"rgba"===t.substring(0,4)){let e=t.indexOf(",")>-1?",":" ",n=t.substr(5).split(")")[0].split(e);t.indexOf("/")>-1&&t.splice(3,1);for(let t in n){let e=n[t];if(e.indexOf("%")>-1){let i=e.substr(0,e.length-1)/100;n[t]=t<3?Math.round(255*i):i}}let r=(+n[0]).toString(16),o=(+n[1]).toString(16),a=(+n[2]).toString(16),s="00";return 1==r.length&&(r="0"+r),1==o.length&&(o="0"+o),1==a.length&&(a="0"+a),1==s.length&&(s="0"+s),i?"#"+r+o+a:"#"+r+o+a+s}{let n=t.indexOf(",")>-1?",":" ",i=t.substr(4).split(")")[0].split(n);t.indexOf("/")>-1&&t.splice(3,1);for(let t in i){let e=i[t];if(e.indexOf("%")>-1){let n=e.substr(0,e.length-1)/100;i[t]=t<3?Math.round(255*n):n}}let r=(+i[0]).toString(16),o=(+i[1]).toString(16),a=(+i[2]).toString(16),s="00";return 1==r.length&&(r="0"+r),1==o.length&&(o="0"+o),1==a.length&&(a="0"+a),e?(1==s.length&&(s="0"+s),"#"+r+o+a+s):"#"+r+o+a}}function n(t,n,i){var r;if(t.indexOf("#")<=-1&&(t=e(t,!1,!0)),/^#([A-Fa-f0-9]{3}){1,2}$/.test(t))return r=t.substring(1).split(""),3==r.length&&(r=[r[0],r[0],r[1],r[1],r[2],r[2]]),r="0x"+r.join(""),1!==n?"rgba("+[r>>16&255,r>>8&255,255&r].join(",")+","+n+")":"rgba("+[r>>16&255,r>>8&255,255&r].join(",")+")";throw new Error("Bad Hex: "+t+" caller: "+i)}function i(t){let e=t.match(/\d+/g),n=e.map(function(t){return 255-t}),i="rgb("+n.join(", ")+")";return i}function r(t){let e;e=-1!=t.indexOf("rgba(")?"rgba(":"rgb(";var n=t.replace(e,"");n=n.replace(")",""),n=n.replace(" ","");var i=n.split(","),r=0;return r=Math.round((299*parseInt(i[0])+587*parseInt(i[1])+114*parseInt(i[2]))/1e3),r>128?"#000000":"#ffffff"}function o(){b.hide(),d.hide()}function a(){o();var e=t("input[type=radio].effect:checked").val();if("nofx"!==e){if(t(".mynotice").text("").css({opacity:0,visibility:"hidden"}),t("#preview-container #preview-box .wp-block-buttons").attr("class","wp-block-buttons"),t("#preview-container #preview-box .wp-block-buttons").addClass("refbutton "+e),t("#preview-container #preview-box .wp-block-button__link span").contents().unwrap(),"free06"!==e&&"free09"!==e||b.show(),"free5"!==e&&"free06"!==e&&"free08"!==e&&"free09"!==e||(t("#border-width").attr("min","1"),t(".mynotice").text("This effect requires that border width be set at least to 1.").css({opacity:1,visibility:"visible"})),"free22"===e||"free23"===e||"free24"===e||"free25"===e){d.show();var n,i=t("#main-color").val();n=-1==i.indexOf("a")?i.replace(")",", 0.2)").replace("rgb","rgba"):i.replace(/[\d\.]+\)$/g,"0.2)"),t("."+e+" .wp-block-button__link").css({"--bg-lines-color":n})}}else t("#preview-container #preview-box .wp-block-buttons").attr("class","wp-block-buttons")}function s(){t("input[type=radio].effect:checked").val();var n=t("input#main-color").val();if(n){var o=e(n,!0),a=t("input#main-color").val(),s=i(t("input#main-color").val()),l=r(a);t(".refbutton .wp-block-button__link").css({"--custom-color":s,"--contrasted-text-color":l,"--default-color":a,"--default-color-a":o}),t("#contrasted-text-color").val(l),t("#default-color-a").val(o)}var c=t("input#preview-background-color").val();t("body").css({"--preview-background-color":c})}function l(){t(".wp-block-button__link").css({"--transition":t("input#transition").val()+"s","--transition-half":t("input#transition").val()/2+"s"})}function c(){t(".refbutton .wp-block-button__link").css({"--button-width":t("input#button-width").val()+"px","--button-height":t("input#button-height").val()+"px","--button-height-val":t("input#button-height").val(),"--border-width":t("input#border-width").val(),"--border-radius":t("input#border-radius").val()+"px","--shadow-inset":g?"inset":"","--bg-lines-width":t("input#bg-lines-width").val()+"px"})}function u(){a(),s(),l(),c()}function p(){return t("#saving-overlay").addClass("overlay-visible"),t(this).ajaxSubmit({success:function(){t("#saving-overlay").removeClass("overlay-visible"),t(".confirmMessage").slideDown("slow"),setInterval(()=>{t(".confirmMessage").slideUp("slow")},4e3)},error:function(){alert("Something went wrong. Please retry."),t("#saving-overlay").removeClass("overlay-visible")}}),!1}t(".color-picker").length>0&&t(".color-picker").wpColorPicker({change:function(t,e){t.target,e.color.toString(),setTimeout(function(){s()},500)},clear:function(t){jQuery(t.target).siblings(".wp-color-picker")[0]}});var g=!!t("#inset-toggler").is(":checked"),b=t(".shadows-controls"),d=t(".bg-lines-controls"),h=(g=!!t("#inset-toggler").is(":checked"),t(".popup-wrapper .preview-container .preview-box .wp-block-button__link").text());h=t.trim(h),t(".popup-wrapper .preview-container .preview-box .wp-block-button__link").html(),t("#autocolor-toggler").on("click",function(){a()}),t("input[type=radio].effect").on("click",function(){if(!t(this).parent().hasClass("premium")){t("#preview-container #preview-box .wp-block-button__link").css("opacity",0);var e=t(this).val();u(e),setTimeout(function(){t("#preview-container #preview-box .wp-block-button__link").css("opacity",1)},1e3)}}),t("#inset-toggler").on("click",function(){g=!g,u()}),t(".decrease").on("click",function(e){e.preventDefault();let n,i,r=parseFloat("0.1").toFixed(1);n=parseFloat(t(this).parents(".range-slider_value").siblings(".range-slider_range").val()).toFixed(1),i=(parseFloat(n)-parseFloat(r)).toFixed(1),"transition"==t(this).parents(".range-slider_value").siblings("input").attr("id")?t(this).parents(".range-slider_value").siblings(".range-slider_range").val(i):t(this).parents(".range-slider_value").siblings(".range-slider_range").val(parseInt(t(this).parents(".range-slider_value").siblings(".range-slider_range").val())-1),t(this).parents(".range-slider_value").siblings(".range-slider_range").trigger("change")}),t(".increase").on("click",function(e){e.preventDefault();let n,i,r=parseFloat("0.1").toFixed(1);n=parseFloat(t(this).parents(".range-slider_value").siblings(".range-slider_range").val()).toFixed(1),i=(parseFloat(n)+parseFloat(r)).toFixed(1),"transition"==t(this).parents(".range-slider_value").siblings("input").attr("id")?t(this).parents(".range-slider_value").siblings(".range-slider_range").val(i):t(this).parents(".range-slider_value").siblings(".range-slider_range").val(parseInt(t(this).parents(".range-slider_value").siblings(".range-slider_range").val())+1),t(this).parents(".range-slider_value").siblings(".range-slider_range").trigger("change")}),t("#button-width").on("input change",function(){t(this).siblings(".range-slider_value").find(".range-value").text(t(this).val()),t(".wp-block-button__link").css({"--button-width":t(this).val()+"px"})}),t("#bg-lines-width").on("input change",function(){t(this).siblings(".range-slider_value").find(".range-value").text(t(this).val()),t(".wp-block-button__link").css({"--bg-lines-width":t(this).val()+"px"})}),t("#button-height").on("input change",function(){t(this).siblings(".range-slider_value").find(".range-value").text(t(this).val()),t(".wp-block-button__link").css({"--button-height":t(this).val()+"px"})}),t("#border-width").on("input change",function(){t(this).siblings(".range-slider_value").find(".range-value").text(t(this).val()),t(".wp-block-button__link").css({"--border-width":t(this).val()+"px"})}),t("#border-radius").on("input change",function(){t(this).siblings(".range-slider_value").find(".range-value").text(t(this).val()),t(".wp-block-button__link").css({"--border-radius":t(this).val()+"px"})}),t("#transition").on("input change",function(){t(this).siblings(".range-slider_value").find(".range-value").text(t(this).val()),t(".wp-block-button__link").css({"--transition":t(this).val()+"px"})}),t("#box-shadow-spread-hover").on("input change",function(){t(this).siblings(".range-slider_value").find(".range-value").text(t(this).val()),t(".wp-block-button__link").css({"--box-shadow-spread-hover":t(this).val()+"px"})}),t("#box-shadow-blur-hover").on("input change",function(){t(this).siblings(".range-slider_value").find(".range-value").text(t(this).val()),t(".wp-block-button__link").css({"--box-shadow-blur-hover":t(this).val()+"px"})}),t("#text-shadow-blur-hover").on("input change",function(){t(this).siblings(".range-slider_value").find(".range-value").text(t(this).val()),t(".wp-block-button__link").css({"--text-shadow-blur-hover":t(this).val()+"px"})}),t("#transition").on("change",function(){t(".wp-block-button__link").css({"--transition":t(this).val()+"s","--transition-half":t(this).val()/2+"s"})}),t("#button-width").on("change",function(){t(".wp-block-button__link").css({"--button-width":t(this).val()+"px"})}),t("#button-height").on("change",function(){t(".wp-block-button__link").css({"--button-height":t(this).val()+"px","--button-height-val":t(this).val()})}),t("#border-width").on("change",function(){t(".wp-block-button__link").css({"--border-width":t(this).val()})}),t("#border-radius").on("change",function(){t(".wp-block-button__link").css({"--border-radius":t(this).val()+"px"})}),t("#bg-lines-width").on("change",function(){t(".wp-block-button__link").css({"--bg-lines-width":t(this).val()+"px"})}),t("input[type=radio].effect:checked").trigger("click"),t(".range-slider_range").trigger("change"),t("#active-rules-toggler").on("change",function(){t(this).is(":checked")?(t("#active-shortcodes-toggler").prop("checked",!1),t(".radio-sub-option").removeClass("blurred")):(t("#active-shortcodes-toggler").prop("checked",!0),t(".radio-sub-option").addClass("blurred"))}),t("#active-rules-toggler").trigger("change"),u(),t("nav.nav-tab-wrapper-effect a.nav-tab").on("click",function(t){t.preventDefault()}),t("nav.nav-tab-wrapper-effect a.nav-tab.premium").on("click",function(e){e.preventDefault(),t("#upgrade-popup").fadeIn()}),t('.radio-option input[type="radio"]').on("click",function(){t("#only-to-class").hide(),"only_to"===t(this).val()&&t("#only-to-class").show()}),t("#only-to-class").hide(),t('.radio-option input[type="radio"]#only_to').is("checked")&&t("#only-to-class").show(),t("#refbutton-settings-form").submit(p),t("#refbutton-settings-form-effects").submit(p),t(".effect-tab.premium.license-inactive").on("click",function(e){e.preventDefault(),t("#upgrade-popup").fadeIn()}),t("#upgrade-popup .btn.close-button").on("click",function(e){e.preventDefault(),t("#upgrade-popup").fadeOut()})})})(jQuery);